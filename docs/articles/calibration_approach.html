<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Approach to model calibration • SIMPLEGEN</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Approach to model calibration">
<meta property="og:description" content="SIMPLEGEN">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SIMPLEGEN</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Get started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Simulating malaria transmission</li>
    <li>
      <a href="../404.html">A simple model</a>
    </li>
    <li>
      <a href="../404.html">Sampling from the population</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Overlaying genetics</li>
    <li>
      <a href="../404.html">Pruning the transmission record</a>
    </li>
    <li>
      <a href="../404.html">Pedigrees and relatedness</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    The pipeline
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../404.html">What is the SIMPLEGEN pipeline</a>
    </li>
    <li>
      <a href="../articles/transmission_record.html">The transmission record</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Models and calibration
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Overall approach</li>
    <li>
      <a href="../articles/calibration_approach.html">Model development and calibration</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Transmission models</li>
    <li>
      <a href="../articles/model_description.html">The inbuilt transmission model</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Calibration</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="../articles/calibration_prev_inc.html">Prevalence, incidence and EIR</a>
        </li>
        <li>
          <a href="../articles/calibration_diagnostics.html">Diagnostics</a>
        </li>
        <li>
          <a href="../articles/calibration_age_inc.html">Age-incidence</a>
        </li>
      </ul>
</li>
    <li class="divider">
    </li>
<li class="dropdown-header">Genetic models</li>
    <li>
      <a href="../404.html">TODO - description</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Calibration</a>
      <ul class="dropdown-menu" role="menu">
<li>
          <a href="../404.html">TODO - genetic calibration</a>
        </li>
      </ul>
</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Epidemiological data</li>
    <li>
      <a href="../articles/data_prev_inc.html">Prevalence, incidence and EIR</a>
    </li>
    <li>
      <a href="../articles/data_diagnostics.html">Diagnostic sensitivity</a>
    </li>
    <li>
      <a href="../articles/data_age_inc.html">Age-incidence</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Genetic data</li>
    <li>
      <a href="../404.html">Complexity of infection</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Misc
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../404.html">Integrating with SLiM</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mrc-ide/SIMPLEGEN" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Approach to model calibration</h1>
                        <h4 data-toc-skip class="author">Bob Verity</h4>
            
            <h4 data-toc-skip class="date">2023-03-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mrc-ide/SIMPLEGEN/blob/HEAD/vignettes/calibration_approach.Rmd" class="external-link"><code>vignettes/calibration_approach.Rmd</code></a></small>
      <div class="hidden name"><code>calibration_approach.Rmd</code></div>

    </div>

    
    
<!---
Set the font size of figure captions
Currently not used because figures inserted with html method
-->
<style>
p.caption {
  font-size: 0.9em;
}
</style>
<div class="section level3">
<h3 id="whats-the-problem">What’s the problem?<a class="anchor" aria-label="anchor" href="#whats-the-problem"></a>
</h3>
<p>Coming up with a model of malaria transmission is easy, but coming up
with a model that matches to data is much more difficult! There are
several reasons for this: first, the real world is messy and data are
often noisy or subject to bias. This doesn’t necessarily mean we should
discard this information, but we need to be able to interpret
information when drawing general conclusions. Second, the universe is
often much more complicated than we can represent mathematically or
computationally, and so when constructing a model we need to decide what
we want to include and what we want to discard. There are arguments for
being at different points on the complexity spectrum, depending on
whether our aim is to develop a simple “intuition pump” type model that
captures key principles, or to represent the real world in high
fidelity. Finally, the real world is often much stranger than we can
envision in our simple brains. Often, we will find new datasets that
seem completely at odds with our understanding, in which case we need to
revisit our assumptions and hopefully capture something that was missing
before. The process of modelling is therefore completely linked to the
process of data analysis, otherwise we are just making toys to keep
ourselves occupied.</p>
</div>
<div class="section level3">
<h3 id="why-calibration">Why “calibration”?<a class="anchor" aria-label="anchor" href="#why-calibration"></a>
</h3>
<p>We use the term “calibration” here to refer to any approach aimed at
getting a model to line up with observed data. Model calibration can be
as formal or informal as you like, and in fact the word is carefully
chosen to get away from the more narrow idea of model “fitting”, which
implies a stronger set of statistical principles. In some sense the
ideal form of calibration would be a full likelihood-based model fit,
perhaps with full Bayesian uncertainty estimates, sensitivity analyses
and posterior predictive checks…but realistically that is not going to
happen most of the time. The guiding philosophy here is that, no matter
how complex your calibration process, at some point you are going to
have to show that you line up against data. By making a simple “arena”
consisting of a series of datasets that cover different aspects of
malaria genomic epidemiology, we can compare models in terms of what
patterns they can/cannot recapitulate. This is not a competition between
models, as if someone really wanted to make a model that fitted all
these datasets perfectly then I’m sure they could (it would probably be
highly over-fitted and useless, but nonethless…)! Rather, the aim of
this excercise is to guide us towards modelling principles that are
important, and towards models that are practically useful in some
situations.</p>
</div>
<div class="section level3">
<h3 id="focus-on-reproducibility">Focus on reproducibility<a class="anchor" aria-label="anchor" href="#focus-on-reproducibility"></a>
</h3>
<p>Our aim is that multiple model calibrations against data will be
shown here, starting with the inbuilt SIMPLEGEN model and hopefully
expanding to other models. A key part of this approach is
reproducibility, as showing a series of model predictions with no
information on how they are generated is not particularly useful for
anyone. Although this may seem obvious, we should recognise that this is
part of a wider reproducibility crisis in science, in which
epidemiological modelling is no exception. The fact is that it takes
effort to ensure reproducility, as even well-documented software
pacakges may be updated over time in ways that cause results to diverge.
For this reason, we impose the following strict rules on any model
results displayed here:</p>
<ul>
<li>Results must be generated from a properly version-controlled
software package with a unique tag. There should be no possible
ambiguity as to which version of the software was used.</li>
<li>For models distributed as part of the SIMPLEGEN repository, all code
used to produce output should be included in the repository and made
available to the user.</li>
<li>For external models, all code used to produce output should be
provided as part of a <a href="https://hub.docker.com/" class="external-link">DockerHub</a>
image. This ensures that the model and all of its dependencies can be
reliably run on <em>any</em> system that can run Docker.</li>
<li>Stochastic model output should be produced using a defined RNG seed
to ensure reproducibility.</li>
</ul>
<p>These rules only apply to results displayed here and to models that
are distributed as part of the SIMPLEGEN pipeline. If you want to
develop your own models and play around with SIMPLEGEN then there is no
need for you to follow any of these steps (although good for you if you
choose to)!</p>
</div>
<div class="section level3">
<h3 id="what-if-my-model-assumptions-change">What if my model assumptions change?<a class="anchor" aria-label="anchor" href="#what-if-my-model-assumptions-change"></a>
</h3>
<p>Finally, this is not intended to be a static document. Model
assumptions may change over time as new data are included or new
calibration methods are used. The advantage to having complete
reproducibility is that we can move forward with model development while
always maintaining a trail of previous versions so nothing is lost along
the way. The first few calibrations will probably look a bit ropey, but
hopefully over time the models will start to look reasonable - bear with
us! As a user, this just means you should always specify exactly which
version of SIMPLEGEN you used in your analysis.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Bob Verity, Shazia Ruybal, Isobel Routledge, Sophie Berube, Daniel Larremore.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
